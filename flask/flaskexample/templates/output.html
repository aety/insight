
<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
        <meta name="description" content="">
        <meta name="author" content="">
        <link rel="icon" href="../../favicon.ico">
        <link rel="canonical" href="https://getbootstrap.com/docs/3.4/examples/cover/">
        
        <title>Paris PM10</title>

        <!-- Bootstrap core CSS -->
        <link href="../static/css/bootstrap.min.css" rel="stylesheet">

        <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
        <link href="../../assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet">

        <!-- Custom styles for this template -->
        <link href="../static/css/cover.css" rel="stylesheet">

        <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
        <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
        <script src="../../assets/js/ie-emulation-modes-warning.js"></script>

        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
        
        
        
        
        
        <!--LINE PLOT -->
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        <script type="text/javascript">
            
            google.charts.load('current', {'packages':['corechart']});
            google.charts.setOnLoadCallback(drawChart);
            
            function drawChart() {
                var data = google.visualization.arrayToDataTable([
                    ['Time','Good','Moderate','Unhealthy', 'Metro',{id:'upper', type:'number', role:'interval'},
                     {id:'lower', type:'number', role:'interval'},
                     'Street'],
                    ['12 am',  0,54,154,{{births[0].birth_month}},{{births[0].birth_month1}},{{births[0].birth_month2}}
                                                                 ,{{births[0].st_air}}],
                    ['1 am',  0,54,154,{{births[1].birth_month}},{{births[1].birth_month1}},{{births[1].birth_month2}}
                                                                 ,{{births[1].st_air}}],
                    ['2 am',  0,54,154,{{births[2].birth_month}},{{births[2].birth_month1}},{{births[2].birth_month2}}
                                                                 ,{{births[2].st_air}}],
                    ['3 am',  0,54,154,{{births[3].birth_month}},{{births[3].birth_month1}},{{births[3].birth_month2}}
                                                                 ,{{births[3].st_air}}],
                    ['4 am',  0,54,154,{{births[4].birth_month}},{{births[4].birth_month1}},{{births[4].birth_month2}}
                                                                 ,{{births[4].st_air}}],
                    ['5 am',  0,54,154,{{births[5].birth_month}},{{births[5].birth_month1}},{{births[5].birth_month2}}
                                                                 ,{{births[5].st_air}}],
                    ['6 am',  0,54,154,{{births[6].birth_month}},{{births[6].birth_month1}},{{births[6].birth_month2}}
                                                                 ,{{births[6].st_air}}],
                    ['7 am',  0,54,154,{{births[7].birth_month}},{{births[7].birth_month1}},{{births[7].birth_month2}}
                                                                 ,{{births[7].st_air}}],
                    ['8 am',  0,54,154,{{births[8].birth_month}},{{births[8].birth_month1}},{{births[8].birth_month2}}
                                                                 ,{{births[8].st_air}}],
                    ['9 am',  0,54,154,{{births[9].birth_month}},{{births[9].birth_month1}},{{births[9].birth_month2}}
                                                                 ,{{births[9].st_air}}],
                    ['10 am',  0,54,154,{{births[10].birth_month}},{{births[10].birth_month1}},{{births[10].birth_month2}},
                                                                 {{births[10].st_air}}],
                    ['11 am',  0,54,154,{{births[11].birth_month}},{{births[11].birth_month1}},{{births[11].birth_month2}},
                                                                 {{births[11].st_air}}],
                    ['12 pm',  0,54,154,{{births[12].birth_month}},{{births[12].birth_month1}},{{births[12].birth_month2}},
                                                                 {{births[12].st_air}}],
                    ['1 pm',  0,54,154,{{births[13].birth_month}},{{births[13].birth_month1}},{{births[13].birth_month2}},
                                                                 {{births[13].st_air}}],
                    ['2 pm',  0,54,154,{{births[14].birth_month}},{{births[14].birth_month1}},{{births[14].birth_month2}},
                                                                 {{births[14].st_air}}],
                    ['3 pm',  0,54,154,{{births[15].birth_month}},{{births[15].birth_month1}},{{births[15].birth_month2}},
                                                                 {{births[15].st_air}}],
                    ['4 pm',  0,54,154,{{births[16].birth_month}},{{births[16].birth_month1}},{{births[16].birth_month2}},
                                                                 {{births[16].st_air}}],
                    ['5 pm',  0,54,154,{{births[17].birth_month}},{{births[17].birth_month1}},{{births[17].birth_month2}},
                                                                 {{births[17].st_air}}],
                    ['6 pm',  0,54,154,{{births[18].birth_month}},{{births[18].birth_month1}},{{births[18].birth_month2}},
                                                                 {{births[18].st_air}}],
                    ['7 pm',  0,54,154,{{births[19].birth_month}},{{births[19].birth_month1}},{{births[19].birth_month2}},
                                                                 {{births[19].st_air}}],
                    ['8 pm',  0,54,154,{{births[20].birth_month}},{{births[20].birth_month1}},{{births[20].birth_month2}},
                                                                 {{births[20].st_air}}],
                    ['9 pm',  0,54,154,{{births[21].birth_month}},{{births[21].birth_month1}},{{births[21].birth_month2}},
                                                                 {{births[21].st_air}}],
                    ['10 pm',  0,54,154,{{births[22].birth_month}},{{births[22].birth_month1}},{{births[22].birth_month2}},
                                                                 {{births[22].st_air}}],
                    ['11 pm',  0,54,154,{{births[23].birth_month}},{{births[23].birth_month1}},{{births[23].birth_month2}},
                                                                 {{births[23].st_air}}],
                ]);                
                data.addColumn('number', 'Metro closed')                
                data.setCell(1, 8, 200);
                data.setCell(2, 8, 200);
                data.setCell(3, 8, 200);
                data.setCell(4, 8, 200);
                data.setCell(5, 8, 200);
                data.addColumn('number','Selected hour')                
                data.setCell({{travelhour}}, 9, {{air_qual}});                
                //data.removeColumn(6);
                //data.removeColumn(5);
                //data.removeColumn(4);
                
                var options = {                    
                    title: 'Prediction',
                    curveType: 'function',                    
                    legend: {position: 'top',
                            maxLines: 3},        
                    colors: ['green','orange','red', '#009999', 'black','black','#009999'],
                    lineWidth: 3,
                    vAxis: {viewWindow: {min: 0}, title: 'PM10 (\u03BCg/m3)'},
                    seriesType: 'bars',        
                    bar: {groupWidth: "5%"},
                    crosshair: { trigger: 'both' },
                    interval: {
                        'upper': { 'style':'line', 'lineWidth': 1, 'color': '#009999'},
                        'lower': { 'style':'line', 'lineWidth': 1, 'color': '#009999'},    
                    },
                    series: {0: {type: 'line'},
                             1: {type: 'line'},                                                        
                             2: {type: 'line'},                                                        
                             3: {type: 'line'},                                                        
                             4: {type: 'line'},                                                        
                             5: {type: 'area'},
                             6: {type: 'bar'},
                             },                    
                };
                
                var chart = new google.visualization.ComboChart(document.getElementById('curve_chart'));                
                chart.draw(data, options);
            }
            
            
        </script>     
            
            
            
        
        
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        <script type="text/javascript">
          google.charts.load('current', {'packages':['gauge']});
          google.charts.setOnLoadCallback(drawChart);

          function drawChart() {

            var data = google.visualization.arrayToDataTable([
              ['Label', 'Value'],
              ['PM10', {{air_qual}}],              
            ]);

            var options = {                
                max: 254,              
                redFrom: 154, redTo: 254,
                yellowFrom:54, yellowTo: 154,
                minorTicks: 10,
                animation:{duration: 5000, easing: 'out'},
            };

            var chart = new google.visualization.Gauge(document.getElementById('gauge_div'));

            chart.draw(data, options);

            
          }
        </script>
            
        
        
         
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        <script type="text/javascript">
            google.charts.load('current', {'packages':['corechart']});
            google.charts.setOnLoadCallback(drawChart);
            function drawChart() {
                var data = google.visualization.arrayToDataTable([
                    ['Year', ''],
                    ['2012',  25.200000],
                    ['2013',  42.128011],
                    ['2014',  37.541130],
                    ['2015',  36.965904],
                    ['2016',  48.364124],
                    ['2017',  60.220384],
                    ['2018',  54.433170],
                    ['2019',  52.724065],
                ]);                
                data.addColumn('number', 'current');
                data.setCell({{year}},2,data.getValue({{year}}, 1));                
                
                var options = {
                    colors: ['#009999','#009999'],
                    seriesType: 'bars',        
                    bar: {groupWidth: "10%"},
                    //title: 'Historical trends',
                    hAxis: {title: 'Year',  titleTextStyle: {color: 'black'}},          
                    vAxis: {title: '[PM10]',  titleTextStyle: {color: 'black'}}, 
                    legend: {position: 'none'},
                    animation:{startup: 'True', duration: 5000},
                    series: {0: {type: 'area'}},
                    width:300,
                    height:200
                };
                
                var chart = new google.visualization.ComboChart(document.getElementById('chart_div'));
                chart.draw(data, options);
            }
        </script>
        
        
        
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        <script type="text/javascript">
            google.charts.load('current', {'packages':['corechart']});
            google.charts.setOnLoadCallback(drawChart);
            function drawChart() {
                var data = google.visualization.arrayToDataTable([
                    ['Month', ''],
                    [1,40.825958],
                    [2,     44.717519],
                    [3,     46.065604],
                    [4,     48.488875],
                    [5,     39.719348],
                    [6,     41.594964],
                    [7,     51.972276],
                    [8,     56.623118],
                    [9,     49.375789],
                    [10,     49.532982],
                    [11,    50.668726],
                    [12,    47.797591]
                ]);
                data.addColumn('number', 'current');
                data.setCell({{month}},2,data.getValue({{month}}, 1));          
                
                var options = {
                    colors: ['#009999','#009999'],
                    seriesType: 'bars',        
                    bar: {groupWidth: "17.14%"},
                    //title: 'Historical trends',
                    hAxis: {title: 'Month',  titleTextStyle: {color: 'black'}},          
                    vAxis: {title: '[PM10]',  titleTextStyle: {color: 'black'}}, 
                    legend: {position: 'none'},
                    animation:{startup: 'True', duration: 5000},
                    series: {0: {type: 'area'}},
                    width:300,
                    height:200
                };
                
                var chart = new google.visualization.ComboChart(document.getElementById('chart_div_m'));
                chart.draw(data, options);
            }
        </script>
        
        
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        <script type="text/javascript">
            google.charts.load('current', {'packages':['corechart']});
            google.charts.setOnLoadCallback(drawChart);
            function drawChart() {
                var data = google.visualization.arrayToDataTable([                    
                    ['Weekday', ''],
                    ['Mon', 50.924916],
                    ['Tue', 54.245120],
                    ['Wed', 55.586921],
                    ['Thu', 54.200351],
                    ['Fri', 50.815020],
                    ['Sat', 33.641405],
                    ['Sun', 30.923562]                    
                ]);
                data.addColumn('number', 'current');
                data.setCell({{day}},2,data.getValue({{day}}, 1));          
                
                var options = {
                    colors: ['#009999','#009999'],
                    seriesType: 'bars',        
                    bar: {groupWidth: "10%"},
                    //title: 'Historical trends',
                    hAxis: {title: 'Weekday',  titleTextStyle: {color: 'black'}},          
                    vAxis: {title: '[PM10]',  titleTextStyle: {color: 'black'}}, 
                    legend: {position: 'none'},
                    animation:{startup: 'True', duration: 5000},
                    series: {0: {type: 'area'}},
                    width:300,
                    height:200
                };
                
                var chart = new google.visualization.ComboChart(document.getElementById('chart_div_w'));
                chart.draw(data, options);
            }
        </script>
        
        
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        <script type="text/javascript">
            google.charts.load('current', {'packages':['corechart']});
            google.charts.setOnLoadCallback(drawChart);
            function drawChart() {
                var data = google.visualization.arrayToDataTable([                    
                    ['Hour', ''],
                    [0,     27.520578],
                    [1,     35.561591],
                    [2,     54.491908],
                    [3,     72.213345],
                    [4,     70.731064],
                    [5,     56.506797],
                    [6,     47.306548],
                    [7,     41.416347],
                    [8,     43.638782],
                    [9,     45.417667],
                    [10,    50.456937],
                    [11,    59.022862],
                    [12,    66.729844],
                    [13,    65.658526],
                    [14,    61.930321],
                    [15,    51.159494],
                    [16,    44.315700],
                    [17,    42.352321],
                    [18,    38.843564],
                    [19,    38.804795],
                    [20,    37.033054],
                    [21,    31.530780],
                    [22,    23.780591],
                    [23,    20.001367]]);
                
                data.addColumn('number', 'current');
                data.setCell({{hour}},2,data.getValue({{hour}}, 1));          
                
                var options = {
                    colors: ['#009999','#009999'],
                    seriesType: 'bars',        
                    bar: {groupWidth: "34.28%"},
                    //title: 'Historical trends',
                    hAxis: {title: 'Hour',  titleTextStyle: {color: 'black'}},          
                    vAxis: {title: '[PM10]',  titleTextStyle: {color: 'black'}}, 
                    legend: {position: 'none'},
                    animation:{startup: 'True', duration: 5000},
                    series: {0: {type: 'area'}},
                    width:300,
                    height:200
                };
                
                var chart = new google.visualization.ComboChart(document.getElementById('chart_div_h'));
                chart.draw(data, options);
            }
        </script>
    </head>
    
    
    
    
    
    <body>
        <div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">  
            <header class="masthead mb-auto">    
                <div class="inner">      
                    <h3 class="masthead-brand">metro-pollutant</h3>      
                    <nav class="nav nav-masthead justify-content-center">        
                        <a class="nav-link active" href="#">Home</a>                                
                        <!--<a class="nav-link" href="#">Contact</a>      -->
                    </nav>    
                </div>  
            </header>

  
            
            <main role="main" class="inner cover">
                <div class="container">
                    <br><br>
        
            <div class="cover">                
                <h2>When are you riding the train?</h2>
                <p>Enter a date in YYYY-MM-DD and HH (24) by {{lastdate}}</p>
                <form  action="/output" method="GET">
                    <div class="form-group">
                              <label for="birth_month" class="col-2 col-form-label">Date</label>
                              <div class="col-10">
                                  <input class="form-control" type="date" value={{date_only}}
                                         id="birth_month" name="birth_month">
                              </div>
                              
                              <label for="hour_input" class="col-2 col-form-label">Time</label>
                              <div class="col-10">
                                  <input class="form-control" type="time" value={{travelhour}}:00:00 id="hour_input"
                                         name="hour_input">
                              </div>
                              
                              <br><br>
                              <button type="submit" class="btn btn-outline-light">Predict</button>              
                          </div>            
                </form>
            </div>
            
            <br><br>
                   
            <div class="cover">
                <h3>PM10 prediction:</h3>
                <p class="lead">The metro air quality for {{date_only}} at {{travelhour}} o'clock is 
                    <b>{{binary}}</b> than street-level. <br> 
                    It is expected to become <b>{{improve}}</b> in the next hour-- {{improve_disc}}.</p>
                    <div id="gauge_div" style="width: 150px; height: 150px;"></div>
                <p class="lead">                
                    <font color={{textc}}>{{airqualdiscribe}}</font>
                    <a href="https://airnow.gov/index.cfm?action=aqibasics.particle">
                        <button type="button" class="btn btn-outline-light">Learn more</button> 
                    </a>                                       
                </p>
                
                
                <br><br>
                
                
                
                <h3>Data:</h3>
                <table class="columns">
                    <tr>
                        <!-- line plot -->
                        <td><div id="curve_chart",  style="width: 550px; height: 450px;"></div></td>
                    </tr>
                </table>
                
                <br><br>
                
                
                
                
                
                <button onclick="myFunction()" class="btn btn-outline-light">Historical trends</button>
                <div id="myDIV" style="display:none;">
                    
                <br>
               
                <!-- history plot -->                
                <table class="columns">
                    <tr>
                        <td><div id="chart_div" style="border: 1px solid #ccc"></div></td>
                        <td><div id="chart_div_m" style="border: 1px solid #ccc"></div></td> 
                    </tr>
                    <tr>
                        <td><div id="chart_div_w" style="border: 1px solid #ccc"></div></td>
                        <td><div id="chart_div_h" style="border: 1px solid #ccc"></div></td>
                    </tr>
                </table>
                    
                </div>
                
                <script>
                    function myFunction() {
                        var x = document.getElementById("myDIV");
                        if (x.style.display === "none") {
                            x.style.display = "block";
                        } else {
                            x.style.display = "none";
                        }
                    }
                </script>
                
            </div><!-- /.container -->            
      </div>
            
            </main>
  
            <br><br><br>
                <footer class="mastfoot mt-auto">
                <div class="inner">
                    <p>Project at <a href="https://insightdatascience.com">Insight Data Science</a>, by
                        <a href="https://sites.google.com/view/aety">Anne Yang</a>. Source code at                         
                        <a href="https://github.com/aety">@aety</a>.
                    </p>
                </div>
            </footer>
        </div>


        <!-- Bootstrap core JavaScript
        ================================================== -->
        <!-- Placed at the end of the document so the pages load faster -->
        <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ" crossorigin="anonymous"></script>
        <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
        <script src="../../dist/js/bootstrap.min.js"></script>
        <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
        <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>
        
        <script src="static/js/bootstrap.min.js"></script>
        
    </body>    
</html>
